<div class="panorama">
  <div [ngClass]="{'panoModeClass': panoMode}" class="image-owner" id="image-owner">
    <div id="pano-image" class="image">
      <img [src]="panoramaUrl" *ngIf="panoramaUrl" (click)="panoTouched()"/>

       <!-- Labels -->
      <ng-container *ngFor="let displayType of currentlyDisplayed">
        <ng-container *ngFor="let label of labels.get(displayType)">
          <div class="label"
          [ngClass] = "displayType"
          [style.left.px] = "label.bounds.left"
          [style.top.px] = "label.bounds.top"
          [style.width.px] = "label.bounds.width"
          [style.height.px] = "label.bounds.height"
          [style.border-color] = "label.color"
          (click)="labelClicked(label)"></div>
        </ng-container>
      </ng-container>

      <!-- Section Breaks -->
      <ng-container *ngIf="currentlyDisplayed.includes(labelType.sectionBreaks)">
        <ng-container *ngFor="let sectionBreak of sectionBreaks">
          <div class="break" [style.left.px]="sectionBreak"></div>
        </ng-container>
      </ng-container>
    </div>
  </div>
  
  <div id="zoom">
    <fa-icon id="zoomIn" class="zoomIcon" [icon]="faPlus" (click)="zoomIn()"></fa-icon>
    <fa-icon id="zoomOut" class="zoomIcon" [icon]="faMinus" (click)="zoomOut()"></fa-icon>
  </div>

  <div *ngIf="showCoverageIssueDetails" id="coverageIssueDetails">
    <span>Coverage Issues Detected:</span>
    <br>Out of {{selectedAisle.previouslySeenBarcodeCount}} distinct barcodes detected in the
    previous {{selectedAisle.previouslySeenBarcodeSampleSize}} scans, {{selectedAisle.missingPreviouslySeenBarcodeCount}}
    ({{selectedAisle.missingPreviouslySeenBarcodePercentage*100}}%) of those barcodes were not found in this aisle
  </div>
  <button *ngIf="showCoverageIssueDetails" id="closeCoverageIssueDetails" (click)="closeCoverageIssueDetails()">Close</button>
</div>
<ng-keyboard-shortcuts [shortcuts]="shortcuts"></ng-keyboard-shortcuts>
